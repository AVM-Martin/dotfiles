- defaults:
    link:
      create: true
      relink: true
      glob: true

- link:
    ~/.zshenv: .zshenv
    ~/.config/: .config/*
    ~/.local/bin: .local/bin/*
    ~/.local/lib: .local/lib/*
    ~/.local/share:
      path: .local/share/*
      exclude: [ ".local/share/dotfiles" ]

- shell:
  - description: Update yadm submodules
    command: git submodule update --init --recursive --checkout ".local/lib/yadm"

  - description: Run bootstrap scripts, managed by yadm
    command: $HOME/.local/lib/yadm/yadm bootstrap
    stdout: true
    stderr: true
